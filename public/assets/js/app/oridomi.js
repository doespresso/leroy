(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=function(a,b){return function(){return a.apply(b,arguments)}},D=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},E=[].slice;q=!0,x=function(a){return"undefined"!=typeof console&&null!==console&&console.warn("OriDomi: Missing support for `"+a+"`."),q=!1},z=function(a){var b,c,d,e;for(d=0,e=t.length;e>d;d++)if(c=t[d],(b=c+h(a))in y.style)return b;return a in y.style?a:!1},c=function(a,b){var c,d,e;d="."+a+"{";for(c in b)e=b[c],c in k&&(c=k[c],c.match(/^(webkit|moz|ms)/i)&&(c="-"+c)),d+=""+c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+":"+e+";";return w+=d+"}"},o=function(a){return""+k.gradientProp+"("+a+", rgba(0, 0, 0, .5) 0%, rgba(255, 255, 255, .35) 100%)"},h=function(a){return a[0].toUpperCase()+a.slice(1)},j=function(a){var b;return b=document.createElement("div"),b.className=n[a],b},i=function(a,b,c){var d;return d=a.cloneNode(b),d.classList.add(n[c]),d},p=function(a){return a.style[k.transform]="translate3d(-99999px, 0, 0)"},v=function(a){return a.style[k.transform]="translate3d(0, 0, 0)"},u=function(a){return function(){var b,c,d,e,f,g;if(this._touchStarted)return a.apply(this,arguments);switch(b=arguments[0],c=arguments[1],d=arguments[2],g={},f=e=null,a.length){case 1:if(g.callback=b,!this.isFoldedUp)return"function"==typeof g.callback?g.callback():void 0;break;case 2:"function"==typeof b?g.callback=b:(e=b,g.callback=c);break;case 3:f=b,2===arguments.length?"object"==typeof c?g=c:"function"==typeof c?g.callback=c:e=c:3===arguments.length&&(e=c,"object"==typeof d?g=d:"function"==typeof d&&(g.callback=d))}return null==f&&(f=this._lastOp.angle||0),e||(e=this._lastOp.anchor),this._queue.push([a,this._normalizeAngle(f),this._getLonghandAnchor(e),g]),this._step(),this}},m=function(a){return setTimeout(a,0)},s=function(){},a=("undefined"!=typeof window&&null!==window&&null!=(B=window.$)?B.data:void 0)?window.$:null,d=["left","right","top","bottom"],f=d.slice(0,2),e=d.slice(2),y=document.createElement("div"),w="",t=["Webkit","Moz","ms"],g="oridomi",n={active:"active",clone:"clone",holder:"holder",stage:"stage",stageLeft:"stage-left",stageRight:"stage-right",stageTop:"stage-top",stageBottom:"stage-bottom",content:"content",mask:"mask",maskH:"mask-h",maskV:"mask-v",panel:"panel",panelH:"panel-h",panelV:"panel-v",shader:"shader",shaderLeft:"shader-left",shaderRight:"shader-right",shaderTop:"shader-top",shaderBottom:"shader-bottom"};for(r in n)A=n[r],n[r]=""+g+"-"+A;k=new function(){var a,b,c,d;for(d=["transform","transformOrigin","transformStyle","transitionProperty","transitionDuration","transitionDelay","transitionTimingFunction","perspective","perspectiveOrigin","backfaceVisibility","boxSizing","mask"],b=0,c=d.length;c>b;b++)a=d[b],this[a]=a;return this},function(){var a,b,e,f,g,i,j,l,m,p;for(b in k)if(i=k[b],k[b]=z(i),!k[b])return x(i);if(e="preserve-3d",y.style[k.transformStyle]=e,y.style[k.transformStyle]!==e)return x(e);k.gradientProp=function(){var a,b,c,d;for(c=0,d=t.length;d>c;c++)if(b=t[c],a="-"+b.toLowerCase()+"-linear-gradient",y.style.backgroundImage=""+a+"(left, #000, #fff)",-1!==y.style.backgroundImage.indexOf("gradient"))return a;return"linear-gradient"}(),m=function(){var a,b,c,d,e;for(d=0,e=t.length;e>d;d++)if(c=t[d],b="grab",y.style.cursor=a="-"+c.toLowerCase()+"-"+b,y.style.cursor===a)return[a,"-"+c.toLowerCase()+"-grabbing"];return y.style.cursor=b,y.style.cursor===b?[b,"grabbing"]:["move","move"]}(),k.grab=m[0],k.grabbing=m[1],k.transformProp=(f=k.transform.match(/(\w+)Transform/i))?"-"+f[1].toLowerCase()+"-transform":"transform",k.transitionEnd=function(){switch(k.transitionProperty.toLowerCase()){case"transitionproperty":return"transitionEnd";case"webkittransitionproperty":return"webkitTransitionEnd";case"moztransitionproperty":return"transitionend";case"mstransitionproperty":return"msTransitionEnd"}}(),c(n.active,{backgroundColor:"transparent !important",backgroundImage:"none !important",boxSizing:"border-box !important",border:"none !important",outline:"none !important",padding:"0 !important",position:"relative",transformStyle:e+" !important",mask:"none !important"}),c(n.clone,{margin:"0 !important",boxSizing:"border-box !important",overflow:"hidden !important",display:"block !important"}),c(n.holder,{width:"100%",position:"absolute",top:"0",bottom:"0",transformStyle:e}),c(n.stage,{width:"100%",height:"100%",position:"absolute",transform:"translate3d(-9999px, 0, 0)",margin:"0",padding:"0",transformStyle:e}),p={Left:"0% 50%",Right:"100% 50%",Top:"50% 0%",Bottom:"50% 100%"};for(r in p)A=p[r],c(n["stage"+r],{perspectiveOrigin:A});for(c(n.shader,{width:"100%",height:"100%",position:"absolute",opacity:"0",top:"0",left:"0",pointerEvents:"none",transitionProperty:"opacity"}),j=0,l=d.length;l>j;j++)a=d[j],c(n["shader"+h(a)],{background:o(a)});return c(n.content,{margin:"0 !important",position:"relative !important","float":"none !important",boxSizing:"border-box !important",overflow:"hidden !important"}),c(n.mask,{width:"100%",height:"100%",position:"absolute",overflow:"hidden",transform:"translate3d(0, 0, 0)",outline:"1px solid transparent"}),c(n.panel,{width:"100%",height:"100%",padding:"0",position:"absolute",transitionProperty:k.transformProp,transformOrigin:"left",transformStyle:e}),c(n.panelH,{transformOrigin:"top"}),c(""+n.stageRight+" ."+n.panel,{transformOrigin:"right"}),c(""+n.stageBottom+" ."+n.panel,{transformOrigin:"bottom"}),g=document.createElement("style"),g.type="text/css",g.styleSheet?g.styleSheet.cssText=w:g.appendChild(document.createTextNode(w)),document.head.appendChild(g)}(),l={vPanels:3,hPanels:3,perspective:1e3,shading:"hard",speed:700,maxAngle:90,ripple:0,oriDomiClass:"oridomi",shadingIntensity:1,easingMethod:"",gapNudge:1,touchEnabled:!0,touchSensitivity:.25,touchStartCallback:s,touchMoveCallback:s,touchEndCallback:s},b=function(){function b(a,c){var g,m,o,s,t,u,w,x,y,z,B,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb;if(this.el=a,null==c&&(c={}),this._onMouseOut=C(this._onMouseOut,this),this._onTouchLeave=C(this._onTouchLeave,this),this._onTouchEnd=C(this._onTouchEnd,this),this._onTouchMove=C(this._onTouchMove,this),this._onTouchStart=C(this._onTouchStart,this),this._stageReset=C(this._stageReset,this),this._conclude=C(this._conclude,this),this._onTransitionEnd=C(this._onTransitionEnd,this),this._step=C(this._step,this),q){if(!(this instanceof b))return new b(this.el,c);if("string"==typeof this.el&&(this.el=document.querySelector(this.el)),!this.el||1!==this.el.nodeType)return void("undefined"!=typeof console&&null!==console&&console.warn("OriDomi: First argument must be a DOM element"));this._config=new function(){for(r in l)A=l[r],this[r]=r in c?c[r]:A;return this},this._config.ripple=Number(this._config.ripple),this._queue=[],this._panels={},this._stages={},this._lastOp={anchor:d[0]},this._shading=this._config.shading,this._shading===!0&&(this._shading="hard"),this._shading&&(this._shaders={},R={},Q=j("shader"),Q.style[k.transitionDuration]=this._config.speed+"ms",Q.style[k.transitionTimingFunction]=this._config.easingMethod),T=j("stage"),T.style[k.perspective]=this._config.perspective+"px";for(U=0,Y=d.length;Y>U;U++)if(m=d[U],this._panels[m]=[],this._stages[m]=i(T,!1,"stage"+h(m)),this._shading){if(this._shaders[m]={},D.call(f,m)>=0)for(V=0,Z=f.length;Z>V;V++)S=f[V],this._shaders[m][S]=[];else for(W=0,$=e.length;$>W;W++)S=e[W],this._shaders[m][S]=[];R[m]=i(Q,!1,"shader"+h(m))}for(w=i(this.el,!0,"content"),E=j("mask"),E.appendChild(w),L=j("panel"),L.style[k.transitionDuration]=this._config.speed+"ms",L.style[k.transitionTimingFunction]=this._config.easingMethod,G={left:[],top:[]},jb=["x","y"],X=0,_=jb.length;_>X;X++){if(s=jb[X],"x"===s?(o=f,F="width",t="V"):(o=e,F="height",t="H"),I=this._config[J=t.toLowerCase()+"Panels"],"number"==typeof I)x=Math.abs(parseInt(I,10)),M=100/x,I=this._config[J]=function(){var a,b;for(b=[],a=0;x>=0?x>a:a>x;x>=0?a++:a--)b.push(M);return b}();else if(x=I.length,!(99<=(kb=I.reduce(function(a,b){return a+b}))&&100.1>=kb))throw new Error("OriDomi: Panel percentages do not sum to 100");if(B=i(E,!0,"mask"+t),this._shading)for(eb=0,ab=o.length;ab>eb;eb++)m=o[eb],B.appendChild(R[m]);for(O=i(L,!1,"panel"+t),O.appendChild(B),P=fb=0,bb=o.length;bb>fb;P=++fb){for(m=o[P],K=gb=0;x>=0?x>gb:gb>x;K=x>=0?++gb:--gb){if(H=O.cloneNode(!0),u=H.children[0].children[0],u.style.width=u.style.height="100%",P?(H.style[k.origin]=m,z=I.length-K-1,N=z+1):(z=K,N=z-1,G[m].push(0===K?0:(G[m][N]-100)*(I[N]/I[z]))),0===K?(H.style[m]="0",H.style[F]=I[z]+"%"):(H.style[m]="100%",H.style[F]=I[z]/I[N]*100+"%"),this._shading)for(y=hb=0,cb=o.length;cb>hb;y=++hb)g=o[y],this._shaders[m][g][K]=H.children[0].children[y+1];u.style[F]=u.style["max"+h(F)]=x/I[z]*1e4/x+"%",u.style[o[0]]=G[o[0]][z]+"%",this._transformPanel(H,0,m),this._panels[m][K]=H,0!==K&&this._panels[m][K-1].appendChild(H)}this._stages[m].appendChild(this._panels[m][0])}}for(this._stageHolder=j("holder"),ib=0,db=d.length;db>ib;ib++)m=d[ib],this._stageHolder.appendChild(this._stages[m]);"absolute"===window.getComputedStyle(this.el).position&&(this.el.style.position="absolute"),this.el.classList.add(n.active),v(this._stages.left),this._cloneEl=i(this.el,!0,"clone"),this._cloneEl.classList.remove(n.active),p(this._cloneEl),this.el.innerHTML="",this.el.appendChild(this._cloneEl),this.el.appendChild(this._stageHolder),this.el.parentNode.style[k.transformStyle]="preserve-3d",this.accordion(0),this._config.ripple&&this.setRipple(this._config.ripple),this._config.touchEnabled&&this.enableTouch()}}return b.prototype._step=function(){var a,b,c,d,e,f;if(!this._inTrans&&this._queue.length)return this._inTrans=!0,f=this._queue.shift(),c=f[0],b=f[1],a=f[2],e=f[3],this.isFrozen&&this.unfreeze(),d=function(d){return function(){var f;return d._setCallback({angle:b,anchor:a,options:e,fn:c}),f=[b,a,e],c.length<3&&f.shift(),c.apply(d,f)}}(this),this.isFoldedUp?2===c.length?d():this._unfold(d):a!==this._lastOp.anchor?this._stageReset(a,d):d()},b.prototype._isIdenticalOperation=function(a){var b,c,d,e,f;if(!this._lastOp.fn)return!0;if(this._lastOp.reset)return!1;for(e=["angle","anchor","fn"],c=0,d=e.length;d>c;c++)if(b=e[c],this._lastOp[b]!==a[b])return!1;f=a.options;for(r in f)if(A=f[r],A!==this._lastOp.options[r]&&"callback"!==r)return!1;return!0},b.prototype._setCallback=function(a){return!this._config.speed||this._isIdenticalOperation(a)?this._conclude(a.options.callback):this._panels[this._lastOp.anchor][0].addEventListener(k.transitionEnd,this._onTransitionEnd,!1),(this._lastOp=a).reset=!1},b.prototype._onTransitionEnd=function(a){return a.currentTarget.removeEventListener(k.transitionEnd,this._onTransitionEnd,!1),this._conclude(this._lastOp.options.callback,a)},b.prototype._conclude=function(a,b){return m(function(c){return function(){return c._inTrans=!1,c._step(),"function"==typeof a?a(b,c):void 0}}(this))},b.prototype._transformPanel=function(a,b,c,d){var e,f,g,h;switch(f=g=h=0,c){case"left":g=b,e="X(-";break;case"right":g=-b,e="X(";break;case"top":f=-b,e="Y(-";break;case"bottom":f=b,e="Y("}return d&&(f=g=h=b),a.style[k.transform]="rotateX("+f+"deg) rotateY("+g+"deg) rotateZ("+h+"deg) translate"+e+this._config.gapNudge+"px)"},b.prototype._normalizeAngle=function(a){var b;return a=parseFloat(a,10),b=this._config.maxAngle,isNaN(a)?0:a>b?b:-b>a?-b:a},b.prototype._setTrans=function(a,b,c){return null==c&&(c=this._lastOp.anchor),this._iterate(c,function(d){return function(){return d._setPanelTrans.apply(d,[c].concat(E.call(arguments),[a],[b]))}}(this))},b.prototype._setPanelTrans=function(a,b,c,d,g,h){var i,j,l,m,n,o;if(i=function(){switch(h){case 0:return 0;case 1:return this._config.speed/d*c;case 2:return this._config.speed/d*(d-c-1)}}.call(this),b.style[k.transitionDuration]=g+"ms",b.style[k.transitionDelay]=i+"ms",this._shading)for(o=D.call(f,a)>=0?f:e,m=0,n=o.length;n>m;m++)l=o[m],j=this._shaders[a][l][c],j.style[k.transitionDuration]=g+"ms",j.style[k.transitionDelay]=i+"ms";return i},b.prototype._setShader=function(a,b,c){var d,e,g,h;return e=Math.abs(c),h=e/90*this._config.shadingIntensity,"hard"===this._shading?(h*=.15,c=this._lastOp.angle<0?e:-e):h*=.4,D.call(f,b)>=0?(0>c?(d=h,g=0):(d=0,g=h),this._shaders[b].left[a].style.opacity=d,this._shaders[b].right[a].style.opacity=g):(0>c?(d=0,g=h):(d=h,g=0),this._shaders[b].top[a].style.opacity=d,this._shaders[b].bottom[a].style.opacity=g)},b.prototype._showStage=function(a){return a!==this._lastOp.anchor?(p(this._stages[this._lastOp.anchor]),this._lastOp.anchor=a,this._lastOp.reset=!0,this._stages[a].style[k.transform]="translate3d("+function(){switch(a){case"left":return"0, 0, 0)";case"right":return"-"+this._config.vPanels.length+"px, 0, 0)";case"top":return"0, 0, 0)";case"bottom":return"0, -"+this._config.hPanels.length+"px, 0)"}}.call(this)):void 0},b.prototype._stageReset=function(a,b){var c;return c=function(d){return function(e){return e&&e.currentTarget.removeEventListener(k.transitionEnd,c,!1),d._showStage(a),m(b)}}(this),0===this._lastOp.angle?c():(this._panels[this._lastOp.anchor][0].addEventListener(k.transitionEnd,c,!1),this._iterate(this._lastOp.anchor,function(a){return function(b,c){return a._transformPanel(b,0,a._lastOp.anchor),a._shading?a._setShader(c,a._lastOp.anchor,0):void 0}}(this)))},b.prototype._getLonghandAnchor=function(a){switch(a.toString()){case"left":case"l":case"4":return"left";case"right":case"r":case"2":return"right";case"top":case"t":case"1":return"top";case"bottom":case"b":case"3":return"bottom";default:return"left"}},b.prototype._setCursor=function(a){return null==a&&(a=this._touchEnabled),this.el.style.cursor=a?k.grab:"default"},b.prototype._setTouch=function(a){var b,c,d,e,f,g,h,i,j;if(a){if(this._touchEnabled)return this;e="addEventListener"}else{if(!this._touchEnabled)return this;e="removeEventListener"}this._touchEnabled=a,this._setCursor(),d=[["TouchStart","MouseDown"],["TouchEnd","MouseUp"],["TouchMove","MouseMove"],["TouchLeave","MouseLeave"]],f="onmouseleave"in window;for(g=0,i=d.length;i>g;g++)for(c=d[g],h=0,j=c.length;j>h;h++){if(b=c[h],"TouchLeave"===b&&!f){this.el[e]("mouseout",this._onMouseOut,!1);break}this.el[e](b.toLowerCase(),this["_on"+c[0]],!1)}return this},b.prototype._onTouchStart=function(a){var b,c;if(this._touchEnabled&&!this.isFoldedUp)return a.preventDefault(),this.emptyQueue(),this._touchStarted=!0,this.el.style.cursor=k.grabbing,this._setTrans(0,0),this._touchAxis=(c=this._lastOp.anchor,D.call(f,c)>=0?"x":"y"),this["_"+this._touchAxis+"Last"]=this._lastOp.angle,b="_"+this._touchAxis+"1",this[b]="mousedown"===a.type?a["page"+this._touchAxis.toUpperCase()]:a.targetTouches[0]["page"+this._touchAxis.toUpperCase()],this._config.touchStartCallback(this[b],a)},b.prototype._onTouchMove=function(a){var b,c,d;if(this._touchEnabled&&this._touchStarted)return a.preventDefault(),b="mousemove"===a.type?a["page"+this._touchAxis.toUpperCase()]:a.targetTouches[0]["page"+this._touchAxis.toUpperCase()],d=(b-this["_"+this._touchAxis+"1"])*this._config.touchSensitivity,this._lastOp.angle<0?(c="right"===this._lastOp.anchor||"bottom"===this._lastOp.anchor?this["_"+this._touchAxis+"Last"]-d:this["_"+this._touchAxis+"Last"]+d,c>0&&(c=0)):(c="right"===this._lastOp.anchor||"bottom"===this._lastOp.anchor?this["_"+this._touchAxis+"Last"]+d:this["_"+this._touchAxis+"Last"]-d,0>c&&(c=0)),this._lastOp.angle=c=this._normalizeAngle(c),this._lastOp.fn.call(this,c,this._lastOp.anchor,this._lastOp.options),this._config.touchMoveCallback(c,a)},b.prototype._onTouchEnd=function(a){return this._touchEnabled?(this._touchStarted=this._inTrans=!1,this.el.style.cursor=k.grab,this._setTrans(this._config.speed,this._config.ripple),this._config.touchEndCallback(this["_"+this._touchAxis+"Last"],a)):void 0},b.prototype._onTouchLeave=function(a){return this._touchEnabled&&this._touchStarted?this._onTouchEnd(a):void 0},b.prototype._onMouseOut=function(a){return this._touchEnabled&&this._touchStarted&&a.toElement&&!this.el.contains(a.toElement)?this._onTouchEnd(a):void 0},b.prototype._unfold=function(a){var b;return this._inTrans=!0,b=this._lastOp.anchor,this._iterate(b,function(c){return function(d,e,f){var g;return g=c._setPanelTrans.apply(c,[b].concat(E.call(arguments),[c._config.speed],[1])),function(b,d,e){return m(function(){return c._transformPanel(b,0,c._lastOp.anchor),setTimeout(function(){return v(b.children[0]),d===f-1&&(c._inTrans=c.isFoldedUp=!1,"function"==typeof a&&a(),c._lastOp.fn=c.accordion,c._lastOp.angle=0),m(function(){return b.style[k.transitionDuration]=c._config.speed})},e+.25*c._config.speed)})}(d,e,g)}}(this))},b.prototype._iterate=function(a,b){var c,d,e,f,g,h,i;for(h=e=this._panels[a],i=[],c=f=0,g=h.length;g>f;c=++f)d=h[c],i.push(b.call(this,d,c,e.length));return i},b.prototype.enableTouch=function(){return this._setTouch(!0)},b.prototype.disableTouch=function(){return this._setTouch(!1)},b.prototype.setSpeed=function(a){var b,c,e;for(c=0,e=d.length;e>c;c++)b=d[c],this._setTrans(this._config.speed=a,this._config.ripple,b);return this},b.prototype.freeze=function(a){return this.isFrozen?"function"==typeof a&&a():this._stageReset(this._lastOp.anchor,function(b){return function(){return b.isFrozen=!0,p(b._stageHolder),v(b._cloneEl),b._setCursor(!1),"function"==typeof a?a():void 0}}(this)),this},b.prototype.unfreeze=function(){return this.isFrozen&&(this.isFrozen=!1,p(this._cloneEl),v(this._stageHolder),this._setCursor(),this._lastOp.angle=0),this},b.prototype.destroy=function(b){return this.freeze(function(c){return function(){return c._setTouch(!1),a&&a.data(c.el,g,null),c.el.innerHTML=c._cloneEl.innerHTML,c.el.classList.remove(n.active),"function"==typeof b?b():void 0}}(this)),null},b.prototype.emptyQueue=function(){return this._queue=[],m(function(a){return function(){return a._inTrans=!1}}(this)),this},b.prototype.setRipple=function(a){return null==a&&(a=1),this._config.ripple=Number(a),this.setSpeed(this._config.speed),this},b.prototype.constrainAngle=function(a){return this._config.maxAngle=parseFloat(a,10)||l.maxAngle,this},b.prototype.wait=function(a){var b;return b=function(b){return function(){return setTimeout(b._conclude,a)}}(this),this._inTrans?this._queue.push([b,this._lastOp.angle,this._lastOp.anchor,this._lastOp.options]):b(),this},b.prototype.modifyContent=function(a){var b,c,e,f,g,h,i,j,k,l;for("function"!=typeof a&&(f=a,g=function(a,b,c){var d,e;if(b&&(a.innerHTML=b),c){for(d in c)e=c[d],a.style[d]=e;return null}},a=function(a){var b,c,d,e,h,i,j,k;for(d in f)if(h=f[d],b=e=null,"string"==typeof h?b=h:(b=h.content,e=h.style),""!==d)for(k=a.querySelectorAll(d),i=0,j=k.length;j>i;i++)c=k[i],g(c,b,e);else g(a,b,e);return null}),h=0,j=d.length;j>h;h++)for(b=d[h],l=this._panels[b],c=i=0,k=l.length;k>i;c=++i)e=l[c],a(e.children[0].children[0],c,b);return this},b.prototype.accordion=u(function(a,b,c){return this._iterate(b,function(d){return function(e,f){var g;return g=f%2===0||c.twist?a:-a,c.sticky?0===f?g=0:(f>1||c.stairs)&&(g*=2):0!==f&&(g*=2),c.stairs&&(g*=-1),d._transformPanel(e,g,b,c.fracture),!d._shading||0===f&&c.sticky||180===Math.abs(g)?void 0:d._setShader(f,b,g)}}(this))}),b.prototype.curl=u(function(a,b){return a/=D.call(f,b)>=0?this._config.vPanels.length:this._config.hPanels.length,this._iterate(b,function(c){return function(d,e){return c._transformPanel(d,a,b),c._shading?c._setShader(e,b,0):void 0}}(this))}),b.prototype.ramp=u(function(a,b){return this._transformPanel(this._panels[b][1],a,b),this._iterate(b,function(a){return function(c,d){return 1!==d&&a._transformPanel(c,0,b),a._shading?a._setShader(d,b,0):void 0}}(this))}),b.prototype.foldUp=u(function(a,b){return this.isFoldedUp?"function"==typeof b?b():void 0:this._stageReset(a,function(c){return function(){return c._inTrans=c.isFoldedUp=!0,c._iterate(a,function(d,e){var f,g;return g=c._config.speed,0===e&&(g/=2),f=c._setPanelTrans.apply(c,[a].concat(E.call(arguments),[g],[2])),function(d,e,f){return m(function(){return c._transformPanel(d,0===e?90:170,a),setTimeout(function(){return 0===e?(c._inTrans=!1,"function"==typeof b?b():void 0):p(d.children[0])},f+.25*c._config.speed)})}(d,e,f)})}}(this))}),b.prototype.unfold=u(function(){return this._unfold.apply(this,arguments)}),b.prototype.map=function(a){return u(function(b){return function(c,d,e){return b._iterate(d,function(f,g,h){return b._transformPanel(f,a(c,g,h),d,e.fracture)})}}(this)).bind(this)},b.prototype.reset=function(a){return this.accordion(0,{callback:a})},b.prototype.reveal=function(a,b,c){return null==c&&(c={}),c.sticky=!0,this.accordion(a,b,c)},b.prototype.stairs=function(a,b,c){return null==c&&(c={}),c.stairs=c.sticky=!0,this.accordion(a,b,c)},b.prototype.fracture=function(a,b,c){return null==c&&(c={}),c.fracture=!0,this.accordion(a,b,c)},b.prototype.twist=function(a,b,c){return null==c&&(c={}),c.fracture=c.twist=!0,this.accordion(a/10,b,c)},b.prototype.collapse=function(a,b){return null==b&&(b={}),b.sticky=!1,this.accordion(-this._config.maxAngle,a,b)},b.prototype.collapseAlt=function(a,b){return null==b&&(b={}),b.sticky=!1,this.accordion(this._config.maxAngle,a,b)},b.VERSION="1.1.0",b.isSupported=q,b}(),("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=b:("undefined"!=typeof define&&null!==define?define.amd:void 0)?define(function(){return b}):window.OriDomi=b,a&&(a.prototype.oriDomi=function(c){var d,e,f,h,i,j,k,l;if(!q)return this;if(c===!0)return a.data(this[0],g);if("string"==typeof c){if(h=c,"function"!=typeof(f=b.prototype[h]))return"undefined"!=typeof console&&null!==console&&console.warn("OriDomi: No such method `"+h+"`"),this;for(i=0,k=this.length;k>i;i++)d=this[i],(e=a.data(d,g))||(e=a.data(d,g,new b(d,c))),f.apply(e,Array.prototype.slice.call(arguments).slice(1))}else for(j=0,l=this.length;l>j;j++)d=this[j],(e=a.data(d,g))||a.data(d,g,new b(d,c));return this})}).call(this);